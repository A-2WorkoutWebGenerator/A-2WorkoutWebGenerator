<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
        <link rel="stylesheet" href="WoW.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
        <script src="admin-utils.js"></script>
        <title>Workout Web Generator</title>
    </head>
    <body>
        <div class="page-wrapper">
            <nav class="navbar">
                <div class="logo">
                    <a href="WoW-Logged.html"><span>FitGen</span></a>
                </div>
                <div class="nav-links">
                    <div class="dropdown">
                        <a href="#workouts" class="nav-link">Workout routines</a>
                        <div class="dropdown-content">
                            <a href="physiotherapy.html">Physiotherapy</a>
                            <a href="kinetotherapy.html">Kinetotherapy</a>
                            <div class="nested-dropdown">
                                <a href="#sports" class="nested-link">Sports</a>
                                <div class="nested-dropdown-content">
                                    <a href="football.html">Football</a>
                                    <a href="basketball.html">Basketball</a>
                                    <a href="tennis.html">Tennis</a>
                                    <a href="swimming.html">Swimming</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <a href="champions.html" class="nav-link">Champions</a>
                    <a href="success-stories.html" class="nav-link">Success stories</a>
                    <a href="contact.html" class="nav-link">Contacts</a>
                </div>
                <div class="nav-buttons">
                    <a href="profile.html" class="btn btn-outline">Profile</a>
                    <a href="WoW.html" class="btn btn-outline">Logout</a>
                </div>
                <div class="mobile-toggle">
                    <i class="fas fa-bars"></i>
                </div>
            </nav>
        <section class="hero">
            <div class="container">
                <div class="hero-content">
                    <h1>Transform Your Workout Experience</h1>
                    <p>Create personalized fitness routines, track your progress, and achieve your goals faster with FitGen.</p>
                    <div class="hero-buttons">
                        <a href="#features" class="btn btn-primary btn-large">Get Started</a>
                        <a href="#workouts" class="btn btn-outline btn-large">Explore Workouts</a>
                    </div>
                    <div class="hero-stats">
                        <div class="stat">
                            <span class="stat-number">10K+</span>
                            <span class="stat-label">Active Users</span>
                        </div>
                        <div class="stat">
                            <span class="stat-number">500+</span>
                            <span class="stat-label">Workout Plans</span>
                        </div>
                        <div class="stat">
                            <span class="stat-number">98%</span>
                            <span class="stat-label">Satisfaction</span>
                        </div>
                    </div>
                </div>
                <div class="hero-image-container">
                    <div class="image-frame fullsize-image">
                        <img src="images/img_fundal4.jpg" alt="FitGen Workout App">
                    </div>
                </div>
            </div>
        </section>
        <section id="features" class="features">
            <div class="section-header">
                <h2>Key Features</h2>
                <p>Everything you need for personalized fitness training</p>
            </div>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-user-cog"></i>
                    </div>
                    <h3>Personalized Training</h3>
                    <p>By logging in you can customize workouts based on weight, height, age, gender, and health condition for optimal results.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-heartbeat"></i>
                    </div>
                    <h3>Physiotherapy & Rehabilitation</h3>
                    <p>Exercises for recovery and health maintenance with detailed instructions and video examples.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-dumbbell"></i>
                    </div>
                    <h3>Sports Training Programs</h3>
                    <p>Routines for various sports focusing on specific muscle groups and performance objectives.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <h3>Flexible Locations</h3>
                    <p>Exercises adapted for home or outdoor training with customizable preferences and equipment options.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-chart-bar"></i>
                    </div>
                    <h3>Statistics & RSS Feed</h3>
                    <p>Personal progress tracking with detailed analytics available as RSS data feeds for each user.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <h3>Public Rankings</h3>
                    <p>Leaderboards of most active users, available in JSON and PDF formats.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-video"></i>
                    </div>
                    <h3>Video Tutorials</h3>
                    <p>Learn perfect form with our exercise tutorial videos and step-by-step guidance.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <h3>Custom Duration</h3>
                    <p>Set your preferred workout duration and intensity based on your schedule and fitness goals.</p>
                </div>
            </div>
        </section>
        <section id="workouts" class="workouts">
            <div class="section-header">
                <h2>Popular Workout Programs</h2>
                <p>Find the perfect routine for your fitness goals</p>
            </div>
            <div class="workout-slider">
                <div class="workout-card">
                    <div class="workout-image">
                        <div class="workout-difficulty">Beginner</div>
                    </div>
                    <div class="workout-content">
                        <h3>Total Body Strength</h3>
                        <div class="workout-meta">
                            <span><i class="fas fa-clock"></i> 8 Weeks</span>
                            <span><i class="fas fa-fire"></i> High Intensity</span>
                        </div>
                        <p>A comprehensive program designed to build strength and muscle across your entire body.</p>
                        <a href="#" class="btn btn-secondary">View Details</a>
                    </div>
                </div>
                <div class="workout-card">
                    <div class="workout-image workout-image-2">
                        <div class="workout-difficulty">Intermediate</div>
                    </div>
                    <div class="workout-content">
                        <h3>Core & Cardio Blast</h3>
                        <div class="workout-meta">
                            <span><i class="fas fa-clock"></i> 6 Weeks</span>
                            <span><i class="fas fa-fire"></i> Medium Intensity</span>
                        </div>
                        <p>Torch calories and strengthen your core with this balanced cardio and strength routine.</p>
                        <a href="#" class="btn btn-secondary">View Details</a>
                    </div>
                </div>
                <div class="workout-card">
                    <div class="workout-image workout-image-3">
                        <div class="workout-difficulty">Advanced</div>
                    </div>
                    <div class="workout-content">
                        <h3>Functional Fitness</h3>
                        <div class="workout-meta">
                            <span><i class="fas fa-clock"></i> 12 Weeks</span>
                            <span><i class="fas fa-fire"></i> Very High Intensity</span>
                        </div>
                        <p>Improve overall athleticism and movement patterns with this functional training program.</p>
                        <a href="#" class="btn btn-secondary">View Details</a>
                    </div>
                </div>
            </div>
            <div class="text-center">
                <a href="#" class="btn btn-primary">Browse All Workouts</a>
            </div>
        </section>
        <section id="champions" class="champions">
            <div class="section-header">
                <h2>Our Champions</h2>
                <p>The most active members who lead by example</p>
            </div>
            
            <div class="podium-container">
                <div class="loading-champions">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>Loading champions...</p>
                </div>
            </div>
            
            <div class="text-center">
                <a href="champions.html" class="btn btn-primary">View Full Leaderboard</a>
            </div>
        </section>
        <section id="gallery" class="gallery">
            <div class="section-header">
                <h2>Workout Gallery</h2>
                <p>See our community in action and get inspired</p>
            </div>
            <div class="gallery-grid">
                <div class="gallery-item">
                    <div class="gallery-overlay">
                        <h3>Morning Yoga Session</h3>
                        <p>Start your day with energy and focus</p>
                    </div>
                </div>
                <div class="gallery-item">
                    <div class="gallery-overlay">
                        <h3>Strength Training</h3>
                        <p>Build muscle and increase metabolism</p>
                    </div>
                </div>
                <div class="gallery-item">
                    <div class="gallery-overlay">
                        <h3>Group Workouts</h3>
                        <p>Stay motivated with community support</p>
                    </div>
                </div>
                <div class="gallery-item">
                    <div class="gallery-overlay">
                        <h3>Outdoor Activities</h3>
                        <p>Connect with nature while exercising</p>
                    </div>
                </div>
                <div class="gallery-item">
                    <div class="gallery-overlay">
                        <h3>Rehabilitation Exercises</h3>
                        <p>Recovery programs for various conditions</p>
                    </div>
                </div>
                <div class="gallery-item">
                    <div class="gallery-overlay">
                        <h3>Home Workouts</h3>
                        <p>Effective exercises with minimal equipment</p>
                    </div>
                </div>
                <div class="gallery-item">
                    <div class="gallery-overlay">
                        <h3>Swimming training</h3>
                        <p>Exercises for you to stay fit in water</p>
                    </div>
                </div>
                <div class="gallery-item">
                    <div class="gallery-overlay">
                        <h3>Football Meetings</h3>
                        <p>Very good way to socialize while doing physical activity</p>
                    </div>
                </div>
            </div>
        </section>
        <section id="testimonials" class="testimonials">
            <div class="section-header">
                <h2>Success Stories</h2>
                <p>Hear from our satisfied members</p>
            </div>
            <div class="testimonial-slider" id="testimonials-container">
                <div class="loading-message">
                    <p>Loading success stories...</p>
                </div>
            </div>
            <div class="text-center">
                <a href="success-stories.html" class="btn btn-outline">Read More Stories</a>
            </div>
        </section>

        <section class="cta">
            <div class="cta-content">
                <h2>Ready to Transform Your Fitness Journey?</h2>
                <p>Join thousands of members who have already achieved their fitness goals with FitGen.</p>
                <a href="register.html" class="btn btn-primary btn-large">Create Free Account</a>
            </div>
        </section>

        <footer class="footer">
            <div class="footer-top">
                <div class="footer-brand">
                    <div class="logo">FitGen</div>
                    <p>Transform Your Workout Experience</p>
                </div>
                <div class="footer-links">
                    <div class="footer-links-column">
                        <ul>
                            <li><a href="contact.html">Contact Us</a></li>
                            <li><a href="credits.html">Credits</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 FitGen. All rights reserved.</p>
            </div>
        </footer>
    </div>

    <style>
        .loading-message {
            text-align: center;
            padding: 2rem;
            color: var(--text-light);
        }

        .testimonial-author-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
            margin-right: 1rem;
        }
    </style>

    <script>
        const API_URL = "http://localhost:8081";

        document.addEventListener('DOMContentLoaded', function() {
            loadTestimonials();
        });

        function loadTestimonials() {
            fetch(`${API_URL}/get_stories.php?limit=2&offset=0`)
            .then(response => response.json())
            .then(data => {
                if (data.success && data.data.length > 0) {
                    displayTestimonials(data.data);
                } else {
                    displayFallbackTestimonials();
                }
            })
            .catch(error => {
                console.error('Error loading testimonials:', error);
                displayFallbackTestimonials();
            });
        }

        function displayTestimonials(stories) {
            const container = document.getElementById('testimonials-container');
            container.innerHTML = '';

            stories.forEach(story => {
                const firstLetter = story.userName.charAt(0).toUpperCase();
                const testimonial = document.createElement('div');
                testimonial.className = 'testimonial';
                
                testimonial.innerHTML = `
                    <div class="testimonial-content">
                        <div class="quote-icon"><i class="fas fa-quote-left"></i></div>
                        <p>"${story.storyText}"</p>
                        <div class="testimonial-author">
                            <div class="testimonial-author-avatar">${firstLetter}</div>
                            <div class="author-info">
                                <h4>${story.userName}</h4>
                                <span>${story.achievement}</span>
                            </div>
                        </div>
                    </div>
                `;
                
                container.appendChild(testimonial);
            });
        }
        function displayFallbackTestimonials() {
            const container = document.getElementById('testimonials-container');
            container.innerHTML = `
                <div class="testimonial">
                    <div class="testimonial-content">
                        <div class="quote-icon"><i class="fas fa-quote-left"></i></div>
                        <p>"FitGen completely transformed my approach to fitness. The personalized workout plans and tracking features helped me lose 15kg in just 4 months!"</p>
                        <div class="testimonial-author">
                            <div class="author-image"></div>
                            <div class="author-info">
                                <h4>Demo User</h4>
                                <span>Sample Achievement</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="testimonial">
                    <div class="testimonial-content">
                        <div class="quote-icon"><i class="fas fa-quote-left"></i></div>
                        <p>"As someone who travels frequently, having access to workouts I can do anywhere has been a game-changer. The app is intuitive and the community support is amazing."</p>
                        <div class="testimonial-author">
                            <div class="author-image"></div>
                            <div class="author-info">
                                <h4>Demo User</h4>
                                <span>Sample Achievement</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

function checkAndShowAdminButton() {
    const token = localStorage.getItem('authToken');
    
    if (!token) return;
    
    try {
        const payload = JSON.parse(atob(token.split('.')[1]));
        
        if (payload.isAdmin) {
            const navButtons = document.querySelector('.nav-buttons');
            
            if (navButtons && !document.querySelector('.admin-panel-btn')) {
                const adminButton = document.createElement('a');
                adminButton.href = 'admin-panel.html';
                adminButton.innerHTML = '<i class="fas fa-cog"></i> Admin Panel';
                adminButton.className = 'btn btn-outline admin-panel-btn';
            
                adminButton.style.cssText = `
                    background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%) !important;
                    color: white !important;
                    border: 2px solid #e74c3c !important;
                    margin-left: 0.5rem;
                    transition: all 0.3s ease;
                    box-shadow: 0 2px 8px rgba(231, 76, 60, 0.3);
                `;
                adminButton.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-2px)';
                    this.style.boxShadow = '0 4px 15px rgba(231, 76, 60, 0.4)';
                    this.style.background = 'linear-gradient(135deg, #c0392b 0%, #a93226 100%)';
                });
                
                adminButton.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                    this.style.boxShadow = '0 2px 8px rgba(231, 76, 60, 0.3)';
                    this.style.background = 'linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)';
                });
                navButtons.insertBefore(adminButton, navButtons.firstChild);
                
                console.log('Admin Panel button added to navigation');
            }
        }
    } catch (error) {
        console.error('Error checking admin status:', error);
    }
}

function handleLoginSuccess(response) {
    if (response.success) {
        localStorage.setItem('authToken', response.token);
        checkAndShowAdminButton();
    }
}
function loadChampions() {
    const container = document.querySelector('.podium-container');
    
    fetch(`${API_URL}/get_champions.php`)
    .then(response => response.json())
    .then(data => {
        if (data.success && data.data.length > 0) {
            displayChampions(data.data.slice(0, 3));
        } else {
            displayFallbackChampions();
        }
    })
    .catch(error => {
        console.error('Error loading champions:', error);
        displayFallbackChampions();
    });
}

function displayChampions(champions) {
    const container = document.querySelector('.podium-container');
    const podiumOrder = [champions[1], champions[0], champions[2]].filter(Boolean);
    
    let podiumHTML = '<div class="podium">';
    
    podiumOrder.forEach((champion, index) => {
        const position = index === 1 ? 1 : (index === 0 ? 2 : 3);
        const height = position === 1 ? 'tall' : (position === 2 ? 'medium' : 'short');
        const medal = position === 1 ? '🥇' : (position === 2 ? '🥈' : '🥉');
        
        podiumHTML += `
            <div class="podium-place ${height}">
                <div class="champion-info">
                    <div class="champion-avatar">${champion.username.charAt(0).toUpperCase()}</div>
                    <h3>${champion.username}</h3>
                    <p>${champion.total_workouts} workouts</p>
                    <span class="medal">${medal}</span>
                </div>
                <div class="podium-base">
                    <span>${position}</span>
                </div>
            </div>
        `;
    });
    
    podiumHTML += '</div>';
    container.innerHTML = podiumHTML;
}

function displayFallbackChampions() {
    const container = document.querySelector('.podium-container');
    container.innerHTML = `
        <div class="podium">
            <div class="podium-place medium">
                <div class="champion-info">
                    <div class="champion-avatar">D</div>
                    <h3>Demo User 2</h3>
                    <p>45 workouts</p>
                    <span class="medal">🥈</span>
                </div>
                <div class="podium-base">
                    <span>2</span>
                </div>
            </div>
            <div class="podium-place tall">
                <div class="champion-info">
                    <div class="champion-avatar">C</div>
                    <h3>Champion User</h3>
                    <p>67 workouts</p>
                    <span class="medal">🥇</span>
                </div>
                <div class="podium-base">
                    <span>1</span>
                </div>
            </div>
            <div class="podium-place short">
                <div class="champion-info">
                    <div class="champion-avatar">T</div>
                    <h3>Third Place</h3>
                    <p>32 workouts</p>
                    <span class="medal">🥉</span>
                </div>
                <div class="podium-base">
                    <span>3</span>
                </div>
            </div>
        </div>
    `;
}

document.addEventListener('DOMContentLoaded', function() {
    checkAndShowAdminButton();
    
    loadTestimonials();
    loadChampions();
    const mobileToggle = document.querySelector('.mobile-toggle');
    const navLinks = document.querySelector('.nav-links');
    
    if (mobileToggle && navLinks) {
        mobileToggle.addEventListener('click', function() {
            navLinks.classList.toggle('active');
        });
    }
});
function logout() {
    localStorage.removeItem('authToken');

    const adminButton = document.querySelector('.admin-panel-btn');
    if (adminButton) {
        adminButton.remove();
    }
    window.location.href = 'login.html';
}

const podiumStyles = `
<style>
.podium {
    display: flex;
    justify-content: center;
    align-items: flex-end;
    gap: 1rem;
    margin: 2rem 0;
    padding: 2rem;
}

.podium-place {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    transition: transform 0.3s ease;
}

.podium-place:hover {
    transform: translateY(-5px);
}

.podium-place.tall {
    order: 2;
}

.podium-place.medium {
    order: 1;
}

.podium-place.short {
    order: 3;
}

.champion-info {
    background: white;
    padding: 1.5rem;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    margin-bottom: 1rem;
    min-width: 150px;
}

.champion-avatar {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: linear-gradient(135deg, #18D259 0%, #3fcb70 100%);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: bold;
    margin: 0 auto 1rem;
}

.champion-info h3 {
    margin: 0.5rem 0;
    color: #333;
    font-size: 1.1rem;
}

.champion-info p {
    margin: 0;
    color: #666;
    font-size: 0.9rem;
}

.medal {
    font-size: 1.5rem;
    margin-top: 0.5rem;
    display: block;
}

.podium-base {
    width: 80px;
    background: linear-gradient(135deg, #18D259 0%, #3fcb70 100%);
    color: white;
    border-radius: 8px 8px 0 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 1.2rem;
}

.podium-place.tall .podium-base {
    height: 80px;
}

.podium-place.medium .podium-base {
    height: 60px;
}

.podium-place.short .podium-base {
    height: 40px;
}

.loading-champions {
    text-align: center;
    padding: 2rem;
    color: #666;
}

.loading-champions i {
    font-size: 2rem;
    color: #18D259;
    margin-bottom: 1rem;
}

@media (max-width: 768px) {
    .podium {
        flex-direction: column;
        align-items: center;
    }
    
    .podium-place {
        margin-bottom: 1rem;
        width: 100%;
        max-width: 200px;
    }
    
    .podium-place.tall,
    .podium-place.medium,
    .podium-place.short {
        order: initial;
    }
    
    .podium-base {
        width: 100%;
    }
}
</style>
`;
if (!document.querySelector('#podium-styles')) {
    const styleElement = document.createElement('div');
    styleElement.id = 'podium-styles';
    styleElement.innerHTML = podiumStyles;
    document.head.appendChild(styleElement);
}

function smoothScrollTo(elementId) {
    const element = document.getElementById(elementId);
    if (element) {
        element.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
        });
    }
}

document.querySelectorAll('a[href^="#"]').forEach(link => {
    link.addEventListener('click', function(e) {
        e.preventDefault();
        const targetId = this.getAttribute('href').substring(1);
        smoothScrollTo(targetId);
    });
});

console.log('WoW-Logged.html scripts loaded successfully with admin functionality');
    </script>
    </body>
</html>