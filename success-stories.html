<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
        <link rel="stylesheet" href="WoW.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
        <title>Success Stories - FitGen</title>
    </head>
    <body>
        <div class="page-wrapper">
            <nav class="navbar">
                <div class="logo">
                    <a href="WoW-Logged.html"><span>FitGen</span></a>
                </div>
                <div class="nav-links">
                    <div class="dropdown">
                        <a href="#workouts" class="nav-link">Workout routines</a>
                        <div class="dropdown-content">
                            <a href="physiotherapy.html">Physiotherapy</a>
                            <a href="kinetotherapy.html">Kinetotherapy</a>
                            <div class="nested-dropdown">
                                <a href="#sports" class="nested-link">Sports</a>
                                <div class="nested-dropdown-content">
                                    <a href="football.html">Football</a>
                                    <a href="basketball.html">Basketball</a>
                                    <a href="tennis.html">Tennis</a>
                                    <a href="swimming.html">Swimming</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <a href="#champions" class="nav-link">Champions</a>
                    <a href="success-stories.html" class="nav-link">Success stories</a>
                    <a href="contact.html" class="nav-link">Contacts</a>
                </div>
                <div class="nav-buttons">
                    <a href="profile.html" class="btn btn-outline">Profile</a>
                    <a href="WoW.html" class="btn btn-outline">Logout</a>
                </div>
                <div class="mobile-toggle">
                    <i class="fas fa-bars"></i>
                </div>
            </nav>

            <section class="hero">
                <div class="container">
                    <div class="hero-content">
                        <h1>Success Stories</h1>
                        <p>Read inspiring stories from our community members and share your own transformation journey.</p>
                        <div class="hero-buttons">
                            <a href="#stories" class="btn btn-primary btn-large">Read Stories</a>
                            <a href="#share-story" class="btn btn-outline btn-large">Share Your Story</a>
                        </div>
                    </div>
                    <div class="hero-image-container">
                        <div class="image-frame fullsize-image">
                            <img src="images/success.jpeg" alt="Success Stories">
                        </div>
                    </div>
                </div>
            </section>

            <section id="stories" class="testimonials">
                <div class="section-header">
                    <h2>Inspiring Transformations</h2>
                    <p>Real stories from real people who achieved their fitness goals</p>
                </div>
                
                <div class="stories-grid">
                    <div class="story-card">
                        <div class="story-header">
                            <div class="author-image">A</div>
                            <div class="author-info">
                                <h4>Andreea M.</h4>
                                <span>Lost 15kg in 4 months</span>
                                <div class="story-date">March 2024</div>
                            </div>
                        </div>
                        <div class="story-content">
                            <p>"FitGen completely transformed my approach to fitness. The personalized workout plans and tracking features helped me lose 15kg in just 4 months! The physiotherapy exercises were especially helpful for my back problems."</p>
                        </div>
                    </div>

                    <div class="story-card">
                        <div class="story-header">
                            <div class="author-image">R</div>
                            <div class="author-info">
                                <h4>Radu C.</h4>
                                <span>From beginner to marathon runner</span>
                                <div class="story-date">January 2024</div>
                            </div>
                        </div>
                        <div class="story-content">
                            <p>"As someone who travels frequently, having access to workouts I can do anywhere has been a game-changer. The mobile app is intuitive and the community support is amazing. I went from never running to completing my first marathon!"</p>
                        </div>
                    </div>

                    <div class="story-card">
                        <div class="story-header">
                            <div class="author-image">M</div>
                            <div class="author-info">
                                <h4>Maria S.</h4>
                                <span>Recovered from knee injury</span>
                                <div class="story-date">February 2024</div>
                            </div>
                        </div>
                        <div class="story-content">
                            <p>"After my knee surgery, I thought I'd never be active again. The rehabilitation programs in FitGen helped me not only recover but become stronger than before. The step-by-step videos were incredibly helpful."</p>
                        </div>
                    </div>

                    <div class="story-card">
                        <div class="story-header">
                            <div class="author-image">A</div>
                            <div class="author-info">
                                <h4>Alex D.</h4>
                                <span>Built muscle and confidence</span>
                                <div class="story-date">December 2023</div>
                            </div>
                        </div>
                        <div class="story-content">
                            <p>"I was always the skinny guy at the gym feeling lost. FitGen's personalized strength training programs helped me gain 8kg of muscle in 6 months. The progress tracking kept me motivated every day."</p>
                        </div>
                    </div>

                    <div class="story-card">
                        <div class="story-header">
                            <div class="author-image">E</div>
                            <div class="author-info">
                                <h4>Elena P.</h4>
                                <span>Improved flexibility and balance</span>
                                <div class="story-date">April 2024</div>
                            </div>
                        </div>
                        <div class="story-content">
                            <p>"At 55, I thought it was too late to improve my flexibility. The kinetotherapy programs proved me wrong! I can now touch my toes and my back pain is completely gone. Age is just a number!"</p>
                        </div>
                    </div>

                    <div class="story-card">
                        <div class="story-header">
                            <div class="author-image">M</div>
                            <div class="author-info">
                                <h4>Mihai L.</h4>
                                <span>Transformed lifestyle completely</span>
                                <div class="story-date">May 2024</div>
                            </div>
                        </div>
                        <div class="story-content">
                            <p>"Working from home made me sedentary and unhappy. FitGen's home workout routines fit perfectly into my schedule. I've lost 20kg and gained so much energy. My productivity at work has improved dramatically!"</p>
                        </div>
                    </div>
                </div>

                <div id="user-stories" class="user-stories-grid"></div>
            </section>

            <section id="share-story" class="cta">
                <div class="cta-content">
                    <h2>Tell Your Story</h2>
                    <p>Have you achieved your fitness goals with FitGen? Share your journey and inspire others!</p>
                    
                    <form id="story-form" class="story-form">
                        <div class="form-group">
                            <label for="user-name">Your Name:</label>
                            <input type="text" id="user-name" name="userName" required placeholder="Enter your name">
                        </div>
                        
                        <div class="form-group">
                            <label for="achievement">Your Achievement:</label>
                            <input type="text" id="achievement" name="achievement" required placeholder="e.g., Lost 10kg, Completed first marathon">
                        </div>
                        
                        <div class="form-group">
                            <label for="story-text">Your Story:</label>
                            <textarea id="story-text" name="storyText" rows="6" required placeholder="Tell us about your fitness journey with FitGen. What challenges did you overcome? What helped you succeed?"></textarea>
                        </div>
                        
                        <button type="submit" class="btn btn-primary btn-large">Share My Story</button>
                    </form>
                    
                    <div id="success-message" class="success-message" style="display: none;">
                        <i class="fas fa-check-circle"></i>
                        <p>Thank you for sharing your story! It has been added to our success stories.</p>
                    </div>
                </div>
            </section>

            <footer class="footer">
                <div class="footer-top">
                    <div class="footer-brand">
                        <div class="logo">FitGen</div>
                        <p>Transform Your Workout Experience</p>
                        <div class="social-links">
                            <a href="#"><i class="fab fa-facebook-f"></i></a>
                            <a href="#"><i class="fab fa-instagram"></i></a>
                            <a href="#"><i class="fab fa-twitter"></i></a>
                            <a href="#"><i class="fab fa-youtube"></i></a>
                        </div>
                    </div>
                    <div class="footer-links">
                        <div class="footer-links-column">
                            <h4>Company</h4>
                            <ul>
                                <li><a href="#">About Us</a></li>
                                <li><a href="#">Careers</a></li>
                                <li><a href="#">Press</a></li>
                                <li><a href="#">Partners</a></li>
                            </ul>
                        </div>
                        <div class="footer-links-column">
                            <h4>Resources</h4>
                            <ul>
                                <li><a href="#">Blog</a></li>
                                <li><a href="#">Tutorials</a></li>
                                <li><a href="#">FAQs</a></li>
                                <li><a href="#">Community</a></li>
                            </ul>
                        </div>
                        <div class="footer-links-column">
                            <h4>Support</h4>
                            <ul>
                                <li><a href="#">Help Center</a></li>
                                <li><a href="#">Contact Us</a></li>
                                <li><a href="#">Privacy Policy</a></li>
                                <li><a href="#">Terms of Service</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="footer-bottom">
                    <p>&copy; 2025 FitGen. All rights reserved.</p>
                </div>
            </footer>
        </div>

        <style>
            .stories-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
                gap: 2rem;
                margin-bottom: 3rem;
            }

            .story-card {
                background-color: var(--primary-light);
                border-radius: var(--radius-md);
                padding: 2rem;
                box-shadow: var(--shadow-sm);
                transition: all var(--transition-normal);
                border-left: 4px solid var(--primary);
            }

            .story-card:hover {
                transform: translateY(-5px);
                box-shadow: var(--shadow-md);
            }

            .story-header {
                display: flex;
                align-items: center;
                margin-bottom: 1.5rem;
            }

            .author-image {
                width: 50px;
                height: 50px;
                border-radius: 50%;
                background-size: cover;
                background-position: center;
                margin-right: 1rem;
                background-color: var(--primary);
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-weight: bold;
                font-size: 1.2rem;
            }

            .author-info h4 {
                font-size: 1.5rem;
                margin-bottom: 0.5rem;
                color: var(--text-dark);
            }

            .author-info span {
                font-size: 1rem;
                color: var(--primary);
                font-weight: 600;
                display: block;
                margin-bottom: 0.8rem;
            }

            .story-date {
                font-size: 0.9rem;
                color: var(--text-light);
            }

            .story-content p {
                color: var(--text-dark);
                line-height: 1.7;
                font-style: italic;
                font-size: 1.1rem;
            }

            .story-form {
                max-width: 600px;
                margin: 2rem auto;
                text-align: left;
            }

            .form-group {
                margin-bottom: 1.5rem;
            }

            .form-group label {
                display: block;
                margin-bottom: 0.5rem;
                color: var(--white);
                font-weight: 600;
            }

            .form-group input,
            .form-group textarea {
                width: 100%;
                padding: 1rem;
                border: 2px solid rgba(255, 255, 255, 0.3);
                border-radius: var(--radius-sm);
                background-color: rgba(255, 255, 255, 0.1);
                color: var(--white);
                font-size: 1rem;
                transition: all var(--transition-normal);
            }

            .form-group input::placeholder,
            .form-group textarea::placeholder {
                color: rgba(255, 255, 255, 0.7);
            }

            .form-group input:focus,
            .form-group textarea:focus {
                outline: none;
                border-color: var(--white);
                background-color: rgba(255, 255, 255, 0.2);
            }

            .success-message {
                background-color: rgba(255, 255, 255, 0.2);
                border: 2px solid var(--white);
                border-radius: var(--radius-md);
                padding: 1.5rem;
                margin-top: 2rem;
                text-align: center;
            }

            .success-message i {
                font-size: 2rem;
                margin-bottom: 0.5rem;
                color: var(--white);
            }

            .new-story {
                border-left: 4px solid var(--primary);
                background-color: var(--primary-light);
            }

            .user-stories-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
                gap: 2rem;
                margin-top: 2rem;
            }

            .user-story-card {
                background-color: var(--white);
                border-radius: var(--radius-md);
                padding: 2rem;
                box-shadow: var(--shadow-sm);
                transition: all var(--transition-normal);
                border-left: 4px solid var(--primary);
                background-color: var(--primary-light);
            }

            .user-story-card:hover {
                transform: translateY(-5px);
                box-shadow: var(--shadow-md);
            }

            .user-story-header {
                display: flex;
                align-items: center;
                margin-bottom: 1.5rem;
            }

            .user-author-image {
                width: 50px;
                height: 50px;
                border-radius: 50%;
                background-color: var(--primary);
                margin-right: 1rem;
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-weight: bold;
                font-size: 1.2rem;
            }

            .user-author-info h4 {
                font-size: 1.5rem;
                margin-bottom: 0.5rem;
                color: var(--text-dark);
            }

            .user-author-info span {
                font-size: 1rem;
                color: var(--primary);
                font-weight: 600;
                display: block;
                margin-bottom: 0.8rem;
            }

            .user-story-date {
                font-size: 0.9rem;
                color: var(--text-light);
            }

            .user-story-content p {
                color: var(--text-dark);
                line-height: 1.7;
                font-style: italic;
                font-size: 1.1rem;
            }

            @media (max-width: 768px) {
                .stories-grid {
                    grid-template-columns: 1fr;
                    gap: 1.5rem;
                }
                
                .story-form {
                    margin: 1rem auto;
                }
            }
        </style>

        <script>
            const API_URL = "http://localhost:8081";

            document.addEventListener('DOMContentLoaded', function() {
                loadStoriesFromDatabase();
            });

            function loadStoriesFromDatabase() {
                fetch(`${API_URL}/get_stories.php`)
                .then(response => response.json())
                .then(data => {
                    if (data.success && data.data.length > 0) {
                        const userStoriesContainer = document.getElementById('user-stories');
                        userStoriesContainer.innerHTML = ''; 
                        
                        data.data.forEach(story => {
                            const storyCard = createStoryCard(story);
                            userStoriesContainer.appendChild(storyCard);
                        });
                    }
                })
                .catch(error => {
                    console.error('Error loading stories:', error);
                });
            }
            function createStoryCard(story) {
                const storyCard = document.createElement('div');
                storyCard.className = 'user-story-card';
                
                const firstLetter = story.userName.charAt(0).toUpperCase();
                
                storyCard.innerHTML = `
                    <div class="user-story-header">
                        <div class="user-author-image">${firstLetter}</div>
                        <div class="user-author-info">
                            <h4>${story.userName}</h4>
                            <span>${story.achievement}</span>
                            <div class="user-story-date">${story.formattedDate}</div>
                        </div>
                    </div>
                    <div class="user-story-content">
                        <p>"${story.storyText}"</p>
                    </div>
                `;
                
                return storyCard;
            }
            document.getElementById('story-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const userName = document.getElementById('user-name').value;
                const achievement = document.getElementById('achievement').value;
                const storyText = document.getElementById('story-text').value;
                
                const submitBtn = this.querySelector('button[type="submit"]');
                const originalText = submitBtn.textContent;
                submitBtn.disabled = true;
                submitBtn.textContent = 'Submitting...';

                fetch(`${API_URL}/submit_story.php`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        userName: userName,
                        achievement: achievement,
                        storyText: storyText
                    })
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        document.getElementById('success-message').style.display = 'block';
                        
                        this.reset();

                        setTimeout(() => {
                            loadStoriesFromDatabase();
                        }, 1000);
                        
                        setTimeout(() => {
                            document.getElementById('success-message').style.display = 'none';
                        }, 5000);
                    } else {
                        alert('Error: ' + (data.message || 'Failed to submit story'));
                    }
                })
                .catch(error => {
                    console.error('Error submitting story:', error);
                    alert('Connection error. Please try again.');
                })
                .finally(() => {
                    submitBtn.disabled = false;
                    submitBtn.textContent = originalText;
                });
            });
        </script>
    </body>
</html>